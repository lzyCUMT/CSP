#include <vector>
#include <set>
#include <iostream>
using namespace std;
 
int main(){
	vector<vector<int>> target = {
		{1,1,1,1,1,1,1,1,1},
		{1,0,0,1,0,0,1,0,1},
		{1,0,0,1,1,1,1,1,0},
		{1,0,0,0,0,1,1,0,0},
		{1,1,1,1,1,1,1,0,0}
	};//目标模式 
	int n,L;
	cin >> n >> L;
	vector<vector<int>> mat(n,vector<int>(n,0));
	for(int i = 0; i < n; i++){
		for(int j = 0; j < n; j++){
			cin >> mat[i][j];
		}
	}
	set<int> res;
	for(int i = 0; i <= n-5; i++){
		for(int k = 0; k <= n-9; k++){
			int k_ub = L, k_lb = 0; //对于每个5 x 9的区域进行上下界取值的初始化 
			for(int j = 0; j < 5; j++){
				for(int h = 0; h < 9; h++){
					if(target[j][h] == 1){
						//更新k_ub
						k_ub = (mat[i+j][k+h] < k_ub) ? mat[i+j][k+h] : k_ub; 
					}
					else if(target[j][h] == 0){
						//更新k_lb
						k_lb = (mat[i+j][k+h] > k_lb) ? mat[i+j][k+h] : k_lb; 
					}
				}
			}
			//对于每个5 x 9的区域，将其对应的所有可行解加入结果中 
			for(int s = k_lb+1; s <= k_ub; s++){
				res.insert(s);
			}
		}
	}
	for(auto e : res){
		cout << e << endl;
	}
	return 0;	
}